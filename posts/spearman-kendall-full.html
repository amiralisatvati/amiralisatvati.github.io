<!DOCTYPE html>
<html lang="fa" dir="rtl" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ضرایب همبستگی رتبه‌ای (اسپیرمن و کندال)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            accent: { light: '#8b5cf6', DEFAULT: '#7c3aed', dark: '#6d28d9' }
          },
          fontFamily: { sans: ['Vazirmatn', 'system-ui'] }
        }
      }
    }
  </script>
  <style>
    @import url('https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css');
    * { font-family: Vazirmatn, sans-serif; }
    body { background: linear-gradient(135deg, #7c3aed 0%, #a78bfa 100%); min-height: 100vh; }
    .glass { background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); }
    .glass-card { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.3); box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); }
    .gradient-text { background: linear-gradient(135deg, #7c3aed 0%, #a78bfa 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .hover-lift { transition: transform 0.3s ease; }
    .hover-lift:hover { transform: translateY(-5px); }
    .sidebar-link { display: block; padding: 10px 16px; border-radius: 8px; transition: all 0.2s; color: #475569; }
    .sidebar-link:hover { background: #f1f5f9; color: #7c3aed; transform: translateX(-4px); }
    .sidebar-link.active { background: linear-gradient(135deg, #7c3aed 0%, #a78bfa 100%); color: white; }
    .formula-card { background: #fef3c7; border-right: 4px solid #f59e0b; padding: 16px; border-radius: 8px; margin: 16px 0; direction: ltr; text-align: center; font-weight: bold; }
    .example-box { background: #fff7ed; border: 1px solid #fed7aa; border-radius: 8px; padding: 1.5rem; margin-top: 1.5rem; }
    .example-title { color: #9a3412; font-weight: bold; display: block; margin-bottom: 10px; font-size: 1.1rem; }
    .note { background: #ecfdf5; color: #065f46; padding: 15px; border-radius: 8px; border: 1px solid #a7f3d0; margin: 20px 0; }
    .info-box { background: #fafafa; border: 1px solid #ccc; padding: 15px; border-radius: 8px; margin: 16px 0; }
    table { width: 100%; border-collapse: collapse; margin: 20px 0; }
    th, td { border: 1px solid #e5e7eb; padding: 12px; text-align: center; }
    th { background: linear-gradient(135deg, #7c3aed 0%, #a78bfa 100%); color: white; font-weight: 600; }
    tr:nth-child(even) { background: #f9fafb; }
    .badge { display: inline-block; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 600; }
    .badge-blue { background: #dbeafe; color: #1e40af; }
    .badge-green { background: #d1fae5; color: #065f46; }
    #back-to-top { position: fixed; bottom: 20px; left: 20px; width: 50px; height: 50px; border-radius: 50%; background: linear-gradient(135deg, #7c3aed 0%, #a78bfa 100%); color: white; border: none; cursor: pointer; display: none; align-items: center; justify-content: center; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); z-index: 1000; }
    #back-to-top.show { display: flex; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    .animate-fadeInUp { animation: fadeInUp 0.6s ease-out; }
  </style>
</head>
<body class="antialiased font-sans">
  <nav class="fixed w-full z-50 glass">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <div class="flex items-center space-x-4 space-x-reverse">
          <i class="fas fa-chart-line text-2xl text-white"></i>
          <span class="text-white font-bold text-xl">ضرایب همبستگی رتبه‌ای</span>
        </div>
      </div>
    </div>
  </nav>

  <header class="pt-32 pb-20 px-4">
    <div class="max-w-4xl mx-auto text-center text-white">
      <h1 class="text-5xl md:text-6xl font-bold mb-6 animate-fadeInUp">ضرایب همبستگی رتبه‌ای</h1>
      <p class="text-xl md:text-2xl mb-4 opacity-90 animate-fadeInUp">اسپیرمن و کندال</p>
      <div class="flex justify-center gap-4 mt-8 animate-fadeInUp">
        <span class="badge badge-blue"><i class="fas fa-book"></i> 2 ضریب</span>
        <span class="badge badge-green"><i class="fas fa-calculator"></i> 4 مثال</span>
      </div>
    </div>
  </header>

  <div class="max-w-7xl mx-auto px-4 pb-20 grid lg:grid-cols-4 gap-8">
    <aside class="hidden lg:block col-span-1">
      <div class="sticky top-24">
        <div class="glass-card rounded-2xl p-6">
          <h3 class="font-bold text-lg mb-4 gradient-text"><i class="fas fa-list"></i> فهرست</h3>
          <nav class="space-y-2">
            <a href="#spearman" class="sidebar-link"><i class="fas fa-chart-bar"></i> اسپیرمن</a>
            <a href="#sp-ex1" class="sidebar-link"><i class="fas fa-code"></i> مثال 1</a>
            <a href="#sp-ex2" class="sidebar-link"><i class="fas fa-code"></i> مثال 2</a>
            <a href="#kendall" class="sidebar-link"><i class="fas fa-link"></i> کندال</a>
            <a href="#kd-ex3" class="sidebar-link"><i class="fas fa-code"></i> مثال 3</a>
            <a href="#kd-ex4" class="sidebar-link"><i class="fas fa-code"></i> مثال 4</a>
            <a href="#comp" class="sidebar-link"><i class="fas fa-balance-scale"></i> مقایسه</a>
          </nav>
        </div>
      </div>
    </aside>

    <div class="col-span-1 lg:col-span-3 space-y-8">
      <section id="spearman" class="glass-card rounded-2xl p-8 hover-lift">
        <h2 class="text-3xl font-bold mb-6 gradient-text"><i class="fas fa-chart-bar ml-3"></i>ضریب اسپیرمن</h2>
        <div class="info-box">
          <p class="text-gray-700 leading-relaxed">آزمون ناپارامتری برای بررسی رابطه بین دو متغیر بر اساس رتبه‌ها. زمانی استفاده می‌شود که داده‌ها رتبه‌ای، دارای داده پرت، یا توزیع غیرنرمال باشند.</p>
        </div>
        <h3 class="text-xl font-bold mt-6 mb-3 text-purple-700">فرمول</h3>
        <div class="formula-card">R<sub>s</sub> = 1 - ( 6 &Sigma; D<sub>i</sub><sup>2</sup> / ( n ( n<sup>2</sup> - 1 ) ) )</div>
        <p class="text-gray-700">که در آن: D<sub>i</sub> = R<sub>i</sub> - S<sub>i</sub> (اختلاف رتبه‌ها)، n = تعداد نمونه‌ها</p>
        <h3 class="text-xl font-bold mt-6 mb-3 text-purple-700">مراحل</h3>
        <ol class="mr-6 space-y-1 text-gray-700 list-decimal">
          <li>رتبه‌دهی به هر دو متغیر</li>
          <li>محاسبه D = R - S</li>
          <li>محاسبه D² و جمع آن‌ها</li>
          <li>قراردادن در فرمول</li>
        </ol>
      </section>

      <section id="sp-ex1" class="glass-card rounded-2xl p-8 hover-lift">
        <h2 class="text-2xl font-bold mb-4 gradient-text"><i class="fas fa-code ml-3"></i>مثال 1: نمره زبان و ریاضی</h2>
        <div class="example-box">
          <span class="example-title">9 دانشجو - سطح معنی‌داری &alpha; = 0.05</span>
          <table>
            <tr><th>دانشجو</th><th>R</th><th>S</th><th>D</th><th>D²</th></tr>
            <tr><td>1</td><td>5</td><td>4</td><td>1</td><td>1</td></tr>
            <tr><td>2</td><td>4</td><td>2</td><td>2</td><td>4</td></tr>
            <tr><td>3</td><td>8</td><td>7</td><td>1</td><td>1</td></tr>
            <tr><td>4</td><td>9</td><td>9</td><td>0</td><td>0</td></tr>
            <tr><td>5</td><td>2</td><td>1</td><td>1</td><td>1</td></tr>
            <tr><td>6</td><td>7</td><td>6</td><td>1</td><td>1</td></tr>
            <tr><td>7</td><td>5</td><td>3</td><td>2</td><td>4</td></tr>
            <tr><td>8</td><td>11</td><td>8</td><td>3</td><td>9</td></tr>
            <tr><td>9</td><td>7</td><td>5</td><td>2</td><td>4</td></tr>
            <tr style="background:#f3e8ff;font-weight:bold"><td colspan="4">جمع</td><td>28</td></tr>
          </table>
          <p class="text-gray-800 mt-3"><strong>محاسبه:</strong></p>
          <div class="formula-card">R<sub>s</sub> = 1 - (6 &times; 28) / (9 &times; 80) = 1 - 168/720 ≈ 0.767</div>
          <p class="text-gray-800"><strong>آزمون:</strong> Z = 0.767 &times; √8 ≈ 2.16 > 1.96 → <span style="color:green;font-weight:bold">رابطه معنی‌دار</span></p>
        </div>
      </section>

      <section id="sp-ex2" class="glass-card rounded-2xl p-8 hover-lift">
        <h2 class="text-2xl font-bold mb-4 gradient-text"><i class="fas fa-code ml-3"></i>مثال 2: دو داور</h2>
        <div class="example-box">
          <span class="example-title">8 متقاضی</span>
          <table>
            <tr><th>متقاضی</th><th>R</th><th>S</th><th>D</th><th>D²</th></tr>
            <tr><td>1</td><td>5</td><td>7</td><td>-2</td><td>4</td></tr>
            <tr><td>2</td><td>8</td><td>5</td><td>3</td><td>9</td></tr>
            <tr><td>3</td><td>4</td><td>4</td><td>0</td><td>0</td></tr>
            <tr><td>4</td><td>3</td><td>2</td><td>1</td><td>1</td></tr>
            <tr><td>5</td><td>6</td><td>8</td><td>-2</td><td>4</td></tr>
            <tr><td>6</td><td>2</td><td>1</td><td>1</td><td>1</td></tr>
            <tr><td>7</td><td>7</td><td>6</td><td>1</td><td>1</td></tr>
            <tr><td>8</td><td>1</td><td>3</td><td>-2</td><td>4</td></tr>
            <tr style="background:#f3e8ff;font-weight:bold"><td colspan="4">جمع</td><td>24</td></tr>
          </table>
          <p class="text-gray-800 mt-3">R<sub>s</sub> = 0.714، Z = 1.89 < 1.96 → <span style="color:#b91c1c;font-weight:bold">رابطه معنی‌دار نیست</span></p>
        </div>
      </section>

      <section id="kendall" class="glass-card rounded-2xl p-8 hover-lift">
        <h2 class="text-3xl font-bold mb-6 gradient-text"><i class="fas fa-link ml-3"></i>ضریب کندال</h2>
        <p class="text-gray-700 leading-relaxed">بر اساس مقایسه زوج‌های مرتب‌شده و میزان توافق (هماهنگ) یا عدم توافق (ناهماهنگ) رتبه‌ها.</p>
        <h3 class="text-xl font-bold mt-6 mb-3 text-purple-700">فرمول</h3>
        <div class="formula-card">&tau; = ( 4P / ( n ( n - 1 ) ) ) - 1</div>
        <p class="text-gray-700">P = تعداد زوج‌های هماهنگ، n = تعداد مشاهدات</p>
        <h3 class="text-xl font-bold mt-6 mb-3 text-purple-700">روش محاسبه P</h3>
        <ol class="mr-6 space-y-1 text-gray-700 list-decimal">
          <li>رتبه‌های یک متغیر را از 1 تا n مرتب کنید</li>
          <li>ردیف دوم را بر اساس همان ترتیب بنویسید</li>
          <li>برای هر عدد، تعداد اعداد بزرگ‌تر سمت راست را بشمارید</li>
          <li>جمع این تعدادها = P</li>
        </ol>
      </section>

      <section id="kd-ex3" class="glass-card rounded-2xl p-8 hover-lift">
        <h2 class="text-2xl font-bold mb-4 gradient-text"><i class="fas fa-code ml-3"></i>مثال 3: دو معلم</h2>
        <div class="example-box">
          <span class="example-title">8 دانشجو</span>
          <table>
            <tr><th>دانشجو</th><th>a</th><th>b</th></tr>
            <tr><td>1</td><td>1</td><td>2</td></tr>
            <tr><td>2</td><td>2</td><td>1</td></tr>
            <tr><td>3</td><td>3</td><td>4</td></tr>
            <tr><td>4</td><td>4</td><td>5</td></tr>
            <tr><td>5</td><td>5</td><td>3</td></tr>
            <tr><td>6</td><td>6</td><td>6</td></tr>
            <tr><td>7</td><td>7</td><td>8</td></tr>
            <tr><td>8</td><td>8</td><td>7</td></tr>
          </table>
          <p class="text-gray-800">ردیف b: {2,1,4,5,3,6,8,7}</p>
          <p class="text-gray-800">P = 6+6+4+3+3+2+0+0 = 24</p>
          <div class="formula-card">&tau; = (96/56) - 1 ≈ 0.71</div>
          <p class="text-gray-800">Z = 2.46 > 1.96 → <span style="color:green;font-weight:bold">همبستگی معنی‌دار</span></p>
        </div>
      </section>

      <section id="kd-ex4" class="glass-card rounded-2xl p-8 hover-lift">
        <h2 class="text-2xl font-bold mb-4 gradient-text"><i class="fas fa-code ml-3"></i>مثال 4: 10 کارگر</h2>
        <div class="example-box">
          <span class="example-title">دو ارزیاب</span>
          <table>
            <tr><th>کارگر</th><th>داور 1</th><th>داور 2</th></tr>
            <tr><td>1</td><td>1</td><td>2</td></tr>
            <tr><td>2</td><td>2</td><td>3</td></tr>
            <tr><td>3</td><td>3</td><td>1</td></tr>
            <tr><td>4</td><td>4</td><td>5</td></tr>
            <tr><td>5</td><td>5</td><td>4</td></tr>
            <tr><td>6</td><td>6</td><td>6</td></tr>
            <tr><td>7</td><td>7</td><td>8</td></tr>
            <tr><td>8</td><td>8</td><td>7</td></tr>
            <tr><td>9</td><td>9</td><td>10</td></tr>
            <tr><td>10</td><td>10</td><td>9</td></tr>
          </table>
          <p class="text-gray-800">ردیف داور 2: {2,3,1,5,4,6,8,7,10,9}</p>
          <p class="text-gray-800">P = 8+7+7+5+5+4+2+2+0+0 = 40</p>
          <div class="formula-card">&tau; = (160/90) - 1 ≈ 0.78</div>
          <p class="text-gray-800">Z = 3.13 > 1.96 → <span style="color:green;font-weight:bold">همبستگی بسیار معنی‌دار</span></p>
        </div>
      </section>

      <section id="comp" class="glass-card rounded-2xl p-8 hover-lift">
        <h2 class="text-3xl font-bold mb-6 gradient-text"><i class="fas fa-balance-scale ml-3"></i>مقایسه</h2>
        <table>
          <tr><th>ویژگی</th><th>اسپیرمن</th><th>کندال</th></tr>
          <tr><td>مبنا</td><td>فاصله رتبه‌ها</td><td>زوج‌های هماهنگ</td></tr>
          <tr><td>محاسبات</td><td>ساده‌تر</td><td>زمان‌برتر</td></tr>
          <tr><td>حساسیت پرت</td><td>بیشتر</td><td>کمتر</td></tr>
          <tr><td>گره‌ها</td><td>کمتر تعدیل‌شده</td><td>Tau-b مناسب‌تر</td></tr>
        </table>
        <div class="note">
          <strong>نکته مهم:</strong> اگر Z < 1.96، فرض صفر رد نمی‌شود حتی اگر ضریب بزرگ باشد.
        </div>
      </section>
    </div>
  </div>

  <button id="back-to-top"><i class="fas fa-arrow-up"></i></button>
  <footer class="glass-card mx-auto max-w-5xl mb-8 rounded-2xl p-6 text-center">
    <p class="text-gray-700">© 2026 - آمار غیرپارامتریک</p>
  </footer>

  <script>
    const btn=document.getElementById('back-to-top');
    window.addEventListener('scroll',()=>{
      btn.classList.toggle('show',window.pageYOffset>300);
    });
    btn.addEventListener('click',()=>{
      window.scrollTo({top:0,behavior:'smooth'});
    });
    const sections=document.querySelectorAll('section[id]');
    const links=document.querySelectorAll('.sidebar-link');
    window.addEventListener('scroll',()=>{
      let current='';
      sections.forEach(s=>{
        if(window.pageYOffset>=(s.offsetTop-200))
          current=s.getAttribute('id');
      });
      links.forEach(l=>{
        l.classList.remove('active');
        if(l.getAttribute('href')==='#'+current)
          l.classList.add('active');
      });
    });
  </script>
</body>
</html>